<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Animal Hide Agent - Historical price data and supplier tracking">
    <meta name="keywords" content="animals, conservation, wildlife, endangered species, data">
    <meta name="author" content="Animal Hide Agent">
    <title>Historical Data - Animal Hide Agent</title>
    <link rel="stylesheet" href="./styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üêæ</text></svg>">
</head>
<body>
    <div class="container">
        <header>
            <h1>üìä Historical Data & Price Tracking</h1>
            <p>Track price changes and supplier data over time</p>
        </header>
        
        <nav class="main-nav">
            <a href="index.html" class="nav-link">Search & Source</a>
            <a href="historical.html" class="nav-link active">Historical Data</a>
        </nav>

        <div class="historical-controls">
            <div class="filter-section">
                <label for="animalFilter">Filter by Animal:</label>
                <select id="animalFilter" class="animal-dropdown">
                    <option value="">All Animals</option>
                    <option value="springbok">Springbok</option>
                    <option value="zebra">Zebra</option>
                    <option value="oryx">Oryx / Gemsbok</option>
                    <option value="wildebeest">Wildebeest</option>
                    <option value="blesbok">Blesbok</option>
                    <option value="impala">Impala</option>
                    <option value="kudu">Kudu</option>
                    <option value="giraffe">Giraffe</option>
                    <option value="cow">Cow</option>
                    <option value="sheep">Sheep</option>
                    <option value="hartebeest">African Hartebeest</option>
                    <option value="nyala">Nyala</option>
                    <option value="bushbuck">Bushbuck</option>
                    <option value="fallow-deer">Fallow Deer</option>
                    <option value="waterbuck">Waterbuck</option>
                    <option value="eland">Eland</option>
                </select>
                
                <label for="companyFilter">Filter by Company:</label>
                <select id="companyFilter" class="animal-dropdown">
                    <option value="">All Companies</option>
                </select>
                
                <button id="applyFilters" class="btn-primary">Apply Filters</button>
                <button id="exportData" class="btn-secondary">Export Data</button>
            </div>
        </div>

        <div class="historical-stats">
            <div class="stat-card">
                <h3>Total Records</h3>
                <span id="totalRecords">0</span>
            </div>
            <div class="stat-card">
                <h3>Companies Tracked</h3>
                <span id="totalCompanies">0</span>
            </div>
            <div class="stat-card">
                <h3>Last Updated</h3>
                <span id="lastHistoricalUpdate">Never</span>
            </div>
        </div>

        <div class="data-display">
            <div id="historicalLoading" class="loading hidden">
                <div class="spinner"></div>
                <p>Loading historical data...</p>
            </div>

            <div id="historicalContainer" class="data-container">
                <h2>Historical Price Data</h2>
                <div class="table-container">
                    <table id="historicalTable" class="suppliers-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Company</th>
                                <th>Animal</th>
                                <th>Price</th>
                                <th>Grade</th>
                                <th>Price Change</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="historicalTableBody">
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="historicalError" class="error hidden">
                <p>No historical data available. Start searching for suppliers to build your database.</p>
            </div>
        </div>
    </div>

    <script src="./auth.js"></script>
    <script src="./script.js"></script>
</body>
</html>
